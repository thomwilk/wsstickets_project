{% include 'ticketing/nav.html' %}
        <table class="table table-dark table-striped"> 
            <thead>
                <tr>
                    <th class="text-center">Building</th>
                    <th class="text-center">Unit</th>
                    <th class="text-center">Tenant Name</th>
                    <th class="text-center">Description</th>
                    <th class="text-center">Status</th>
                    <th class="text-center">Action</th>
                </tr>
            </thead>
            <tbody>
                {% for ticket in tickets %}
                <tr>
                    <td class="text-center align-middle">{{ ticket.building }}</td>
                    <td class="text-center align-middle">{{ ticket.unit }}</td>
                    <td class="text-center align-middle">{{ ticket.tenant_name }}</td>
                    <td class="align-middle">{{ ticket.description }}</td>
                    <td class="text-center align-middle">{{ ticket.status }}</td>
                    <td class="text-center">
                        <form style="background-color:transparent; margin:0 auto;" id="status-form" method="POST" action="/tickets/modify/{{ ticket.id }}/{{ selectedOption }}">
                            {% csrf_token %}
                            <div class="input-group d-flex justify-content-center">
                                <div class="icon-container">
                                    <i class="fas fa-2x fa-spinner" onclick="updateStatus('In Progress')"></i>
                                </div>
                                <div class="icon-container">
                                    <i class="fas fa-2x fa-check-circle" onclick="updateStatus('Closed')"></i>
                                </div>
                                <div class="icon-container">
                                    <i class="fas fa-2x fa-folder-open" onclick="updateStatus('Open')"></i>
                                </div>
                            </div>
                        </form>                        
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <script>
        function updateStatus(status) {
            var form = document.getElementById('status-form');
            // Update the form action or a hidden input value with the selected status
            form.action = '/tickets/modify/{{ ticket.id }}/' + status + '/';
            form.submit();
            // Optionally, if you use a hidden input to store the selected status
            // document.getElementById('hidden-status-input').value = status;
        }                           

        document.addEventListener("DOMContentLoaded", function() {
        });
    </script>
</body>
</html>